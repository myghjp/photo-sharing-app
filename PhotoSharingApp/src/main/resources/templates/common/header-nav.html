<!DOCTYPE html>
<html lang="ja" 
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{common/layout}"
	>
<head>
<meta charset="UTF-8">
</head>
<body>
	<nav layout:fragment="header-nav" class="navbar navbar-expand-lg navbar-dark bg-dark p-2">
		<span class="navbar-brand fs-4 fw-bold m-2" th:text="#{photoSharingApp}"></span>
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		
		<!--グループ-->
		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav">
				
				<li class="nav-item">
					<a th:href="@{'/create-group'}" th:text="#{createGroupBtn}" class="btn btn-success ms-3"></a>
				</li>
				
				<li class="nav-item">
					<form method="post" th:action="@{/select-group}">
						<select name="id" onchange="submit(this.form)" class="form-select" requred>
							<option value="" selected disabled>
								グループ選択
							</option>
							
							<div th:each="list: ${groupList}" class="form-check mb-3">
								<option th:value="${list.id}" th:text="${list.groupName}"></option>
							</div>
						</select>
					</form>
				</li>
				<li class="nav-item">
					<th:block th:if="${isAdmin}">
						<a th:href="@{'/delete-group/' + ${group.id}}" th:text="#{deleteGroupBtn}" class="btn btn-danger ms-3"></a>
					</th:block>
				</li>
				
			</ul>
		</div>
		
		<!--ドロップダウン-->
		<div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
			
			<div class="dropdown">
			  <button type="button" class="btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
			    <span sec:authentication="principal.username" class="text-light"></span>
			  </button>
			  
			  <ul class="dropdown-menu dropdown-menu-lg-end">
			    <li class="dropdown-item">
					<a th:href="@{/update-account}" th:text="#{updatePasswordBtn}" class="btn btn-success btn-sm"></a>	
				</li>
			    <li class="dropdown-item">
					<a th:href="@{/delete-account}" th:text="#{deleteAccountBtn}" class="btn btn-danger btn-sm"></a>
				</li>
			    <li><hr class="dropdown-divider"></li>
			    <li class="dropdown-item">
					<form method="post" th:action="@{/postlogout}">
						<input type="submit" th:value="#{logoutBtn}" class="btn btn-secondary btn-sm">
					</form>
				</li>
			  </ul>
			</div>
			
		</div>
	</nav>
</body>
</html>